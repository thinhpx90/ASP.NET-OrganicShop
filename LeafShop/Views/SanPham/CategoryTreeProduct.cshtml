@model IEnumerable<LeafShop.Models.DanhMuc>
@{
    Layout = null;
}



<div class="left-sidebar">
    <div class="panel-heading">
        <a data-toggle="collapse" href="#filter_group">
            <h4 class="panel-title">
                Danh mục sản phẩm
            </h4>
        </a>
    </div>

    <ul class="lv1">
        @foreach (var dm in Model)
        {
        <li>
            <a class="one1" data-href="/SanPham/Category/@dm.MaDanhMuc"
               href="javacript:0">
                @dm.TenDanhMuc
                <i class="fa fa-angle-right right-icon "
                   aria-hidden="true"></i>
            </a>
            @if (dm.DanhMuc1.Count > 0)
            {
        <ul class="lv2">
            @foreach (var dmCon in dm.DanhMuc1)
            {
            <li>
                <a href="/SanPham/Category/@dmCon.MaDanhMuc" class="one2">
                    <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                    @dmCon.TenDanhMuc <i class="fa fa-angle-right right-icon"
                                         aria-hidden="true"></i>
                </a>
                @if (dmCon.DanhMuc1.Count > 0)
                {
            <ul class="lv3">
                @foreach (var dmChau in dmCon.DanhMuc1)
                {
                    <li>
                        <a href="/SanPham/Category/@dmChau.MaDanhMuc">
                            <i class="fa fa-angle-double-right"
                               aria-hidden="true"></i> @dmChau.TenDanhMuc
                        </a>
                    </li>
                }


            </ul>
                }

            </li>
            }

        </ul>
            }
        </li>


                }
        </ul>
</div>
<style>
    .right-icon {
        float: right;
        padding-right: 10px;
    }

    .lv1 {
        list-style: none;
        border: 1px solid #ccc;
        border-top: none;
    }

        .lv1 > li {
            border-bottom: 1px solid #ccc;
        }

            .lv1 > li > a {
                color: #000;
                padding: 5px 10px;
                width: 100%;
                display: block;
            }

    .lv2 {
        list-style: none;
        display: none;
    }

        .lv2 > li {
            border-top: 1px solid #ccc;
        }

        .lv2 li > a {
            font-size: 12px;
            color: #000;
            width: 100%;
            padding: 3px 20px;
            display: block;
        }

        .lv2 li:last-child,
        .lv1 > li:last-child,
        .lv3 li:last-child {
            border-bottom: none;
        }

    .lv3 {
        display: none;
    }

        .lv3 > li {
            border-top: 1px solid #ccc;
            list-style: none;
        }

        .lv3 li > a {
            font-size: 12px;
            color: #000;
            width: 100%;
            padding: 3px 0px;
            padding-left: 30px;
            display: block;
        }
</style>
<script>
    $(document).ready(function () {
        $('.one1').click(function () {
            if ($(this).next('.lv2').css('display') == ('none')) {
                $('.lv2').hide();
                $(this).next('.lv2').show();
            } else {
                $(this).next('.lv2').hide();
            }
        });
    });


    $(document).ready(function () {
        $('.one2').click(function () {
            if ($(this).next('.lv3').css('display') == ('none')) {
                $('.lv3').hide();
                $(this).next('.lv3').show();
            } else {
                $(this).next('.lv3').hide();
            }
        });
    });
    $(document).ready(function () {
        $("ul.lv2 > li a").each(function (item) {
            if (window.location.pathname === $(this).attr("href")) {
                $(this).closest('ul.lv2 > li').addClass("active");
                $(this).closest('lul.lv1').addClass("active");
                $(this).closest('ul.lv2').show();
            }
        });
        $("ul.lv1 > li > a").each(function (item) {
            if (window.location.pathname === $(this).attr("data-href")) {
                $(this).closest('ul.lv1 > li > a').addClass("active");
            }
        });
    });

</script>